<?php
//Copyright (c) 2016 iFeiwu.com
 class Database extends Ifeiwu { function __construct() { $this->table = ''; parent::__construct(); } protected function postBackup() { goto ldCaP; bqPLF: return $this->success('', $name); goto INZyn; iVQmB: $mb = new MysqlBackup(); goto WrpXP; ldCaP: ifeiwu\Loader::import("\145\170\164\145\x6e\x64\57\x4d\171\163\x71\154\102\x61\x63\x6b\165\x70"); goto iVQmB; INZyn: EWf28: goto TasZq; hTmvt: pOYb6: goto bqPLF; wb4wR: goto EWf28; goto hTmvt; CgDYI: return $this->error(); goto wb4wR; ru9D6: if ($name !== false) { goto pOYb6; } goto CgDYI; WrpXP: $name = $mb->export(); goto ru9D6; TasZq: } protected function postReply($filename) { goto SIkVq; SIkVq: ifeiwu\Loader::import("\x65\170\x74\145\156\x64\57\x4d\x79\x73\x71\x6c\102\141\143\153\x75\160"); goto aWDe6; cD0Sw: if (!$errors) { goto dAqfd; } goto hWZI5; t1GSr: return $this->success(); goto NAFNY; hWZI5: return $this->error(json_encode($errors)); goto KZZX7; vU3uu: $errors = $mb->import($filename); goto cD0Sw; KZZX7: goto lyQMw; goto ozXjI; ozXjI: dAqfd: goto t1GSr; aWDe6: $mb = new MysqlBackup(); goto vU3uu; NAFNY: lyQMw: goto QvBnH; QvBnH: } protected function getSqls() { goto ozjEc; Gjmuc: BZ1Xf: goto MVLgB; Qhy4H: Wbx9h: goto SdFEV; R_yyP: closedir($handle); goto Gjmuc; SdFEV: goto JbKpK; goto zWW0W; MVLgB: return array_reverse($files); goto M8mYD; y22z4: if (!($file != "\x2e" && $file != "\56\x2e" && strpos($file, "\56"))) { goto Wbx9h; } goto zilYn; ozjEc: $dir = "\x73\161\154\57"; goto dNgSp; dNgSp: if (!(false != ($handle = opendir($dir)))) { goto BZ1Xf; } goto BvgXF; BvgXF: JbKpK: goto CaJaa; CaJaa: if (!(false !== ($file = readdir($handle)))) { goto a25BO; } goto y22z4; zilYn: $stat = stat($dir . $file); goto z5Qlv; z5Qlv: $files[] = array("\156\x61\x6d\x65" => $file, "\163\151\172\145" => $stat["\163\x69\172\x65"], "\143\164\151\x6d\145" => $stat["\x63\164\x69\155\145"]); goto Qhy4H; zWW0W: a25BO: goto R_yyP; M8mYD: } protected function postDelete($filename) { goto KNipW; KNipW: if (unlink("\x73\x71\154\x2f{$filename}") !== false) { goto jLyve; } goto WZJEh; qO9A2: U24DI: goto DOBHg; nkIdC: return $this->success(); goto qO9A2; WZJEh: return $this->error(); goto JkUvT; bUgok: jLyve: goto nkIdC; JkUvT: goto U24DI; goto bUgok; DOBHg: } }
