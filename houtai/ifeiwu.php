<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto S0nVR; oGHQe: $this->order[] = "\143\x74\151\155\x65\40\104\x45\x53\103"; goto XcmNX; auucj: $this->order[] = "\163\x6f\x72\164\x62\x79\x20\x44\105\123\x43"; goto l0YMM; S0nVR: $this->admin = $_GET["\x61\x64\155\x69\156"]; goto MSXtQ; fQdnW: $this->db = ifeiwu\Db::getInstance(); goto vOyep; vOyep: $this->prefix = $this->db->getPrefix(); goto v1Gnu; l0YMM: qo10Q: goto Dv_Il; v1Gnu: $this->fields = $this->_getTableFields($this->table); goto YWjRb; Dv_Il: if (!in_array("\143\x74\x69\155\145", $this->fields)) { goto lUie8; } goto oGHQe; YWjRb: $this->order = array(); goto ZX2Ie; xiRCi: b5Wpz: goto YeG9L; MSXtQ: if (!$this->table) { goto b5Wpz; } goto fQdnW; ZX2Ie: if (!in_array("\x73\x6f\x72\x74\142\171", $this->fields)) { goto qo10Q; } goto auucj; XcmNX: lUie8: goto xiRCi; YeG9L: } public function __destruct() { goto fhMiX; lawkw: kmUgB: goto Ve_IN; fhMiX: if (!APP_DEBUG) { goto kmUgB; } goto YHjOb; YHjOb: $this->_debug($this->db->log()); goto lawkw; Ve_IN: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto Yd2PQ; Yd2PQ: $res = array(); goto ryWst; VvKuW: iJSdS: goto lXnYM; A5cav: goto iJSdS; goto QpNUq; XRnd2: return $res; goto smoQG; QpNUq: glAfn: goto BiA1L; xGFW6: if (is_array($message)) { goto glAfn; } goto MhxBW; MhxBW: $res["\x6d\x65\163\163\x61\x67\145"] = $message; goto A5cav; ddMzB: FlnSi: goto XRnd2; i3kuh: $res["\144\x61\164\141"] = $data; goto ddMzB; ryWst: $res["\143\157\x64\145"] = $code; goto xGFW6; BiA1L: $res["\144\141\164\x61"] = $message; goto VvKuW; lXnYM: if (!$data) { goto FlnSi; } goto i3kuh; smoQG: } protected function _bulidData($request_data) { goto RBBZ0; qIVOS: $data["\x6a\x73\x6f\156"] = $category ? json_encode(array("\x63" => $category)) : ''; goto lAp5U; T2eam: y4E8w: goto qa_Ki; YY5n1: $column[] = "\164\x69\164\154\x65"; goto upi7i; qa_Ki: $pid = $data["\x70\x69\144"]; goto JUQI3; JUQI3: if (!($pid > 0 && in_array("\152\x73\157\x6e", $this->fields))) { goto N6O19; } goto j8tPj; Mk_Ww: if (!in_array("\x74\x69\164\154\145", $this->fields)) { goto Oyp7X; } goto YY5n1; erOg2: if (!in_array("\x61\154\151\141\x73", $this->fields)) { goto oaVV5; } goto mOE0Q; G5nsW: foreach ($this->fields as $field) { goto bO0Da; yws0Y: smYtl: goto rFKZN; tnOlH: SlLZp: goto yws0Y; bO0Da: $value = $request_data[$field]; goto oHRuJ; xB7NL: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto tnOlH; oHRuJ: if (!($value !== null)) { goto SlLZp; } goto xB7NL; rFKZN: } goto Nfs9V; mOE0Q: $column[] = "\x61\154\x69\x61\163"; goto ibAwU; Nfs9V: Mpq_v: goto xc4Xw; RBBZ0: $data = array(); goto G5nsW; okdY9: $data["\143\164\x69\155\x65"] = strtotime($request_data["\x63\x74\151\155\x65"]); goto T2eam; ibAwU: oaVV5: goto DmlKB; Sk7jX: return $data; goto eVcHn; lAp5U: N6O19: goto Sk7jX; DmlKB: $category = $this->db->select($this->table, $column)->where("\151\x64\40\x3d\40{$pid}")->get(); goto qIVOS; q0Q5d: if (!isset($request_data["\x63\164\x69\155\x65"])) { goto y4E8w; } goto okdY9; xc4Xw: $data["\x73\164\141\x74\x65"] = isset($data["\x73\164\141\164\x65"]) ? $data["\163\164\x61\164\145"] : 0; goto q0Q5d; j8tPj: $column = array("\x69\x64"); goto Mk_Ww; upi7i: Oyp7X: goto erOg2; eVcHn: } protected function _encode($data) { goto qL7Zu; KZMQw: return $tmp; goto qg4Gf; Er8R8: $tmp = clone $data; goto TQHg4; cgzpy: return array_map(array($this, "\x5f\x65\x6e\x63\157\144\145"), $data); goto ahg50; TQHg4: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); e7P8n: } goto uecFa; qg4Gf: ujdck: goto zx3PL; qL7Zu: if (!is_array($data)) { goto YmXuQ; } goto cgzpy; ahg50: YmXuQ: goto Qj1fv; Qj1fv: if (!is_object($data)) { goto ujdck; } goto Er8R8; zx3PL: return htmlspecialchars($data, ENT_QUOTES); goto xsinu; uecFa: gTlWv: goto KZMQw; xsinu: } protected function _decode($data) { goto xHPIL; N4WuF: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); VYjUj: } goto jOwkV; oyN8_: zu_c7: goto Pk7fb; jOwkV: QAQ5l: goto p5CYU; xHPIL: if (!is_array($data)) { goto YizqJ; } goto uPD2a; NBURd: $tmp = clone $data; goto N4WuF; Pk7fb: return htmlspecialchars_decode($data, ENT_QUOTES); goto Pd1Wa; lmdH0: YizqJ: goto h9D0C; h9D0C: if (!is_object($data)) { goto zu_c7; } goto NBURd; p5CYU: return $tmp; goto oyN8_; uPD2a: return array_map(array($this, "\x5f\x64\x65\143\x6f\144\145"), $data); goto lmdH0; Pd1Wa: } protected function _getTableFields($table) { goto aZQT6; nNeIB: yPlDN: goto emJWa; FMqWL: npv9c: goto WVTwg; aZQT6: if ($table) { goto AywuH; } goto T2662; xfryY: $column = $query->getColumnMeta($i); goto rRMmA; ZG2mL: if (!($i < $count)) { goto yPlDN; } goto xfryY; rRMmA: $fields[] = $column["\156\141\155\145"]; goto FMqWL; VrK2O: goto H8WjO; goto GXS_f; TA2jW: $query = $this->db->query("\123\105\114\x45\103\x54\40\52\x20\106\122\117\x4d\40{$table}"); goto K8YTN; dSnQw: $table = $this->prefix . $table; goto eP0tL; GXS_f: AywuH: goto dSnQw; cz1x2: goto Tx8Hw; goto nNeIB; K8YTN: $count = $query->columnCount(); goto ph_9E; ph_9E: $i = 0; goto vDmEw; WVTwg: $i++; goto cz1x2; vDmEw: Tx8Hw: goto ZG2mL; emJWa: return $fields; goto I6x4h; eP0tL: H8WjO: goto TA2jW; T2662: $table = $this->prefix . $this->table; goto VrK2O; I6x4h: } protected function _callback($method, $params) { goto sU06L; sU06L: if (!(is_callable(array($this, $method)) !== false)) { goto qLHTJ; } goto sA2Gi; sA2Gi: call_user_func_array(array($this, $method), $params); goto fHmED; fHmED: qLHTJ: goto LFICW; LFICW: } protected function _getLevel($pid, $id) { goto lYdq3; R3g4j: $this->_getLevel('', $pid); goto BPoWd; k2UG4: bUNpI: goto sIb80; dsJLQ: if (!($pid === '')) { goto I00la; } goto r2q6e; yqDEL: return "\x2c" . implode("\x2c", array_reverse($list)) . "\54" . $id . "\x2c"; goto k2UG4; jE_qe: if (!($pid != 0)) { goto qzYQA; } goto XYMf5; r2q6e: $pid = $this->db->select($this->table, "\x70\151\x64")->where(array("\x69\144", "\x3d", $id))->get(0); goto mHYtK; XYMf5: $list[] = $pid; goto R3g4j; z30Al: goto bUNpI; goto qn8UF; lYdq3: static $list = array(); goto dsJLQ; tN99p: Ye3ap: goto h3I1_; mHYtK: I00la: goto jE_qe; h3I1_: return "\54" . $id . "\x2c"; goto noCQc; noCQc: L5yb3: goto sjs3p; BPoWd: qzYQA: goto VmF6T; vaFsj: if ($id) { goto z_1Gl; } goto ANtdG; ANtdG: return "\54" . implode("\x2c", array_reverse($list)) . "\x2c"; goto z30Al; VmF6T: if (count($list) == 0) { goto Ye3ap; } goto vaFsj; sIb80: goto L5yb3; goto tN99p; qn8UF: z_1Gl: goto yqDEL; sjs3p: } protected function _saveData($table, $data, $where) { goto fxmV8; pc8oP: return $this->db->update($table, $data, $where)->is(); goto cdOrT; gTQgI: goto vgdAp; goto NI2kr; cdOrT: vgdAp: goto CLtC7; fxmV8: if ($this->db->select($table)->where($where)->has()) { goto bMpJc; } goto fjvWE; NI2kr: bMpJc: goto pc8oP; fjvWE: return $this->db->insert($table, $data)->is(); goto gTQgI; CLtC7: } protected function _saveImages($pid, $request_data) { goto s0D14; s0D14: $images_id = $request_data["\151\155\141\147\145\163\137\x69\x64"]; goto UStai; GeLnP: $images_name = $request_data["\151\155\x61\147\145\163\x5f\x6e\141\x6d\145"]; goto wVzid; m0rfQ: foreach ($images_id as $i => $id) { goto WsGN4; sOxk5: $data["\x6f\x72\144\145\x72\x62\171"] = $images_order[$i]; goto UqMpL; zxZ0x: goto lhwfx; goto MORDW; uJNlW: $this->db->update($this->table, $data, array("\x69\144", "\75", $id)); goto zxZ0x; WsGN4: $data["\164\151\x74\x6c\x65"] = $images_title[$i]; goto sOxk5; HGQXp: $data["\x69\x6d\141\147\x65"] = $images_name[$i]; goto RCnhH; MORDW: KwrRy: goto HGQXp; uu8nq: $this->db->insert($this->table, $data); goto x5f4O; x5f4O: unset($data["\151\155\141\147\x65"], $data["\x69\x6d\141\x67\145\137\160\x61\164\x68"]); goto Igvao; LTrz0: z2sIq: goto jG0OZ; RCnhH: $data["\x69\155\141\x67\x65\137\160\x61\164\150"] = $images_path[$i]; goto uu8nq; bFTFT: if (empty($id)) { goto KwrRy; } goto uJNlW; UqMpL: $data["\163\x74\x61\x74\x65"] = $images_state[$i]; goto bFTFT; Igvao: lhwfx: goto LTrz0; jG0OZ: } goto JLWxL; JmXI9: $data["\160\x69\x64"] = $pid; goto HWKhr; Mwlne: $images_title = $request_data["\151\x6d\141\x67\x65\163\137\164\x69\164\154\x65"]; goto GeLnP; o3O1j: $data["\164\171\160\x65"] = "\x69\155\141\147\x65"; goto JmXI9; ETw1k: $images_state = $request_data["\x69\x6d\141\147\x65\x73\137\163\x74\x61\x74\x65"]; goto o3O1j; wVzid: $images_path = $request_data["\x69\x6d\x61\147\x65\x73\137\160\141\164\x68"]; goto ETw1k; HWKhr: $data["\143\164\151\155\x65"] = time(); goto m0rfQ; JLWxL: rB9yn: goto NeydB; UStai: $images_order = $request_data["\x69\155\x61\x67\x65\163\137\x6f\x72\x64\145\x72"]; goto Mwlne; NeydB: } protected function _removeFiles2($files) { goto L9z9H; qAuoq: foreach ($files as $key => $value) { goto X7CYb; KL0IY: amREY: goto t1j4S; EJBTs: HVKMj: goto palbV; ibc46: $filename = $path . "\57" . $name; goto UqQJQ; Wg4ZD: if ($name) { goto YcoOQ; } goto epwXa; Zaxjq: goto LO5rU; goto Y5z3F; GolJI: $prefixs = explode("\54", $prefix); goto O6UeN; eYqcS: $prefix = $value["\x70\162\145\146\151\x78"]; goto xMQDR; dLanv: iAYAq: goto Zaxjq; UqQJQ: if (!file_exists($filename)) { goto iAYAq; } goto GwEuB; Y5z3F: Kmon3: goto GolJI; X7CYb: $name = $value["\156\x61\155\x65"]; goto Wg4ZD; aQi0X: $path = "\56\56\57" . $value["\160\x61\164\150"]; goto eYqcS; epwXa: goto amREY; goto u7Yjc; GwEuB: unlink($filename); goto dLanv; O6UeN: foreach ($prefixs as $prefix) { goto bsZBa; EDB85: oshhX: goto qr6fu; u9W7q: unlink($filename); goto lAiee; bsZBa: $filename = "{$path}\x2f{$prefix}{$name}"; goto qxjUK; lAiee: i9DWd: goto EDB85; qxjUK: if (!file_exists($filename)) { goto i9DWd; } goto u9W7q; qr6fu: } goto EJBTs; xMQDR: if ($prefix) { goto Kmon3; } goto ibc46; palbV: LO5rU: goto KL0IY; u7Yjc: YcoOQ: goto aQi0X; t1j4S: } goto qUjte; qUjte: ibzo5: goto R0u2y; DpRnb: $files = json_decode($files, true); goto BHNCt; L9z9H: if (!(!empty($files) && !is_array($files))) { goto RuYF4; } goto DpRnb; R0u2y: jSIKv: goto lRN11; KruNt: if (!$files) { goto jSIKv; } goto qAuoq; BHNCt: RuYF4: goto KruNt; lRN11: } protected function _mkdir($path, $mode = 493) { goto nckcy; UMQ_3: return mkdir($path, $mode, true); goto bwGh3; nckcy: if (is_dir($path)) { goto ptpeF; } goto UMQ_3; bwGh3: ptpeF: goto dQl2d; dQl2d: return false; goto c_g1C; c_g1C: } protected function _rmdir($path) { goto XQejA; RLrw6: FOoE4: goto CNMI7; gaHMw: goto FOoE4; goto GBUJp; praUv: return false; goto gaHMw; kkDuf: if (rmdir($path)) { goto Y3f04; } goto praUv; dbH2Z: SZBUL: goto BCENZ; vv4oC: if (!($item != "\x2e" && $item != "\56\56")) { goto SZBUL; } goto yq6e1; AZG5y: EUV90: goto SO4T0; UHLXQ: if (!(false !== ($item = readdir($handle)))) { goto EUV90; } goto vv4oC; tVUR0: KuwpM: goto dbH2Z; BCENZ: goto UMRlp; goto AZG5y; rivKD: UMRlp: goto UHLXQ; X3DQf: goto KuwpM; goto byjF9; XKihV: $this->_rmdir("{$path}\57{$item}"); goto tVUR0; yq6e1: if (is_dir("{$path}\x2f{$item}")) { goto Xyhez; } goto k9wgJ; dW3C3: return true; goto RLrw6; SO4T0: closedir($handle); goto kkDuf; RN_t7: if (!($handle = opendir($path))) { goto XNC2T; } goto rivKD; JqhTZ: b2yRP: goto RN_t7; byjF9: Xyhez: goto XKihV; XQejA: if (is_dir($path)) { goto b2yRP; } goto KUA4r; KUA4r: return false; goto JqhTZ; CNMI7: XNC2T: goto cvZox; k9wgJ: unlink("{$path}\x2f{$item}"); goto X3DQf; GBUJp: Y3f04: goto dW3C3; cvZox: } protected function _bulidUploadPath($temp_path, $data) { goto HYDp3; fFWKs: if (!is_dir("\x2e\56\x2f" . $temp_path)) { goto mbreE; } goto WLHG3; VgVmL: G9HA1: goto Iyq8z; HWsDo: return $temp_path; goto VgVmL; EIkEk: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto QPGAG; HTlnE: $true_path = $temp_path; goto PttUi; Iyq8z: if (!(strpos($path_last, "\x21\x3d") !== false)) { goto Wv2Gc; } goto bpphM; rOZjj: $path_last = end(explode("\57", $temp_path)); goto lwTER; UJngj: mbreE: goto TyoXF; TyoXF: return $true_path; goto LiRJe; QPGAG: Wv2Gc: goto fFWKs; lwTER: if (!($path_last == $id)) { goto G9HA1; } goto HWsDo; PttUi: ntszo: goto UJngj; bpphM: $vardir = current(explode("\41\75", $path_last)); goto EIkEk; HYDp3: $id = $data["\151\x64"]; goto rOZjj; WLHG3: if (rename("\x2e\56\x2f" . $temp_path, "\x2e\56\x2f" . $true_path)) { goto ntszo; } goto HTlnE; LiRJe: } protected function _toTree($list, $pk = "\151\144", $pid = "\x70\x69\144", $child = "\137\x63\x68\151\x6c\x64", $root = 0) { goto R0W2_; BiMmF: $refer = array(); goto RFK1Y; ujKwt: if (!is_array($list)) { goto dd17p; } goto BiMmF; R0W2_: $tree = array(); goto ujKwt; vp04M: foreach ($list as $key => $data) { goto l3Cor; ZLbjL: $parent[$child][] =& $list[$key]; goto heTBE; heTBE: Y66MX: goto zjYC3; zjYC3: goto PMd32; goto BMVWT; Ak73F: $tree[] =& $list[$key]; goto qvYt9; vcZo1: XpxeT: goto ExF6c; n3KT8: if (!isset($refer[$parentId])) { goto Y66MX; } goto P05zW; BMVWT: t9_yP: goto Ak73F; qvYt9: PMd32: goto vcZo1; KVw9S: if ($root == $parentId) { goto t9_yP; } goto n3KT8; l3Cor: $parentId = $data[$pid]; goto KVw9S; P05zW: $parent =& $refer[$parentId]; goto ZLbjL; ExF6c: } goto uphFj; RFK1Y: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; JxCyZ: } goto XDJX0; R12pv: dd17p: goto x2MGU; uphFj: JTQX3: goto R12pv; x2MGU: return $tree; goto FE4RY; XDJX0: l8q3N: goto vp04M; FE4RY: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto VZETq; WGV3l: Ztn4D: goto HOEE1; UHTn0: if (!$isspecial) { goto lph7F; } goto a14N8; bR7ub: goto WV_QU; goto M8GHe; OZZRj: if (!$isnumber) { goto IeX8m; } goto EfUhl; VZETq: if (!$islowercase) { goto Ztn4D; } goto a8xMh; b6Xfz: lph7F: goto nSpnL; M8GHe: D3CP_: goto HnKbe; nSpnL: $result = ''; goto zsFzM; UWwvq: if (!($i < $length)) { goto D3CP_; } goto RPZDY; a14N8: $chars .= "\41\100\x23\44\x25\x5e\46\52\x28\x29"; goto b6Xfz; N8aCx: $i++; goto bR7ub; EfUhl: $chars .= "\60\x31\62\x33\x34\x35\x36\x37\70\71"; goto t25ya; sLY9Y: TIxCo: goto OZZRj; HOEE1: if (!$isuppercase) { goto TIxCo; } goto D3_ld; a8xMh: $chars .= "\141\142\x63\x64\x65\146\x67\x68\151\x6a\153\154\x6d\156\x6f\160\x71\x72\163\164\165\166\x77\x78\x79\x7a"; goto WGV3l; yWWnH: $i = 0; goto rQkXQ; t25ya: IeX8m: goto UHTn0; rQkXQ: WV_QU: goto UWwvq; a07ko: XsAcQ: goto N8aCx; RPZDY: $result .= $chars[rand(0, $max)]; goto a07ko; HnKbe: return $result; goto AdDqV; D3_ld: $chars .= "\101\102\103\x44\x45\106\x47\110\111\112\x4b\114\115\x4e\117\x50\x51\x52\123\124\125\126\x57\x58\131\132"; goto sLY9Y; zsFzM: $max = strlen($chars) - 1; goto yWWnH; AdDqV: } protected function _UTF82GBK($str) { goto LE3WH; blP4T: return $str; goto LKgyJ; bXNXc: return iconv("\125\x54\x46\x2d\x38", "\x47\x42\x4b\x2f\x2f\111\107\x4e\x4f\122\x45", $str); goto dI_vI; dI_vI: fTDAy: goto xg2xC; LE3WH: if (stripos(php_uname("\x73"), "\x57\151\x6e\144\157\x77") !== false) { goto x49xf; } goto blP4T; BsoaQ: x49xf: goto bXNXc; LKgyJ: goto fTDAy; goto BsoaQ; xg2xC: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto NKcQe; bClXP: $realip = $_SERVER["\122\105\115\117\124\x45\x5f\x41\104\104\x52"]; goto g08ur; JILp4: wsvh9: goto ytAGv; UNGdb: SxfE_: goto eLHIa; BOvIv: if (getenv("\110\124\x54\x50\137\x58\x5f\x46\117\122\127\101\122\x44\105\x44\x5f\106\117\x52")) { goto SxfE_; } goto M9Kwr; p0auh: Yws13: goto PX3QG; FEcN6: $realip = getenv("\x52\105\x4d\117\124\105\137\101\104\x44\122"); goto sDLMu; TIhG2: $realip = empty($realip) ? $_SERVER["\122\105\115\117\124\x45\x5f\x41\104\104\122"] : $realip; goto i0kNp; NKcQe: if (isset($_SERVER)) { goto Yws13; } goto BOvIv; ytAGv: goto ndqvH; goto p0auh; sVGOO: $realip = $realip[0]; goto TIhG2; i0kNp: goto wsvh9; goto SnT3L; z0ur8: return $realip; goto AysRN; kfIle: $realip = explode("\54", $realip); goto sVGOO; g08ur: goto YxSfR; goto Nr_cp; eLHIa: $realip = getenv("\x48\x54\x54\120\137\130\137\106\x4f\x52\x57\x41\122\x44\105\104\137\106\x4f\x52"); goto kfIle; ITAyf: $realip = $_SERVER["\x48\124\x54\x50\x5f\103\x4c\111\x45\116\124\x5f\x49\x50"]; goto QHO4T; PX3QG: if (isset($_SERVER["\110\x54\124\x50\x5f\130\137\106\117\122\x57\x41\x52\x44\x45\104\137\106\x4f\122"])) { goto RMkKb; } goto U86az; t7ydM: $realip = $_SERVER["\x48\124\124\x50\137\x58\137\x46\x4f\x52\127\101\122\104\x45\104\x5f\x46\117\122"]; goto d5bNv; JpweY: ndqvH: goto z0ur8; LylZ8: $realip = empty($realip) ? $_SERVER["\122\x45\x4d\x4f\x54\x45\x5f\101\x44\104\122"] : $realip; goto t1w2w; Nr_cp: RMkKb: goto t7ydM; rnv1c: zQI4a: goto ITAyf; t1w2w: goto YxSfR; goto rnv1c; U86az: if (isset($_SERVER["\x48\124\x54\120\x5f\103\114\111\105\x4e\124\x5f\111\120"])) { goto zQI4a; } goto bClXP; QHO4T: YxSfR: goto JpweY; SLQFt: $realip = getenv("\x48\x54\x54\120\x5f\103\114\x49\x45\116\x54\x5f\x49\x50"); goto JILp4; M9Kwr: if (getenv("\110\x54\x54\x50\137\x43\x4c\111\x45\x4e\x54\137\x49\120")) { goto cvUhQ; } goto FEcN6; d5bNv: $realip = explode("\54", $realip); goto NE7rS; sDLMu: goto wsvh9; goto UNGdb; SnT3L: cvUhQ: goto SLQFt; NE7rS: $realip = $realip[0]; goto LylZ8; AysRN: } protected function _trash($item, $request_data) { goto nCVBm; pKTHn: $data["\164\x61\x62\x6c\x65"] = $this->table; goto cNbPp; V0Exh: $data["\164\x69\x74\x6c\145"] = $item["\x74\151\164\x6c\145"]; goto Rf5aW; jqDvE: return $this->db->insert("\164\162\x61\163\x68", $data)->is(); goto nbmLb; cNbPp: $data["\144\x61\x74\141"] = json_encode($item); goto yJCPR; Y2sP3: $data["\141\x64\155\x69\x6e\137\x6e\141\x6d\x65"] = $this->admin["\x6e\x61\x6d\x65"]; goto l4CsP; yJCPR: $data["\x73\164\141\164\x65"] = 0; goto piwZj; nCVBm: $data = array(); goto lvhHy; f8vKI: $data["\x70\x61\x74\150"] = $path ? $item[$path] : ''; goto pKTHn; l4CsP: $data["\x6e\x6f\164\x65"] = $request_data["\156\x6f\164\x65"]; goto V0Exh; Rf5aW: $path = $request_data["\x70\141\164\150"]; goto f8vKI; piwZj: $data["\x63\164\x69\155\145"] = time(); goto jqDvE; lvhHy: $data["\141\144\x6d\151\156\137\x69\144"] = $this->admin["\x69\144"]; goto Y2sP3; nbmLb: } protected function _log($type, $data = array()) { goto SNdg3; n3vMI: $data["\x75\162\154"] = $_SERVER["\110\124\x54\120\137\x52\105\x46\105\122\105\x52"]; goto yrO73; uXb9y: $data["\x61\x64\x6d\x69\156\137\x69\x64"] = $this->admin["\151\x64"]; goto ZmMUG; JDBjD: $data["\143\x74\x69\x6d\145"] = time(); goto INHa2; yrO73: ILovK: goto p32zi; INHa2: return $this->db->insert("\154\157\147", $data)->is(); goto CereX; SNdg3: if (!($type != "\154\157\x67\151\156")) { goto ILovK; } goto uXb9y; ZmMUG: $data["\x61\x64\x6d\x69\x6e\x5f\156\141\x6d\145"] = $this->admin["\156\141\x6d\145"]; goto n3vMI; pbloF: $data["\x69\160"] = $this->_getIP(); goto JDBjD; PsosE: $data["\164\171\160\x65"] = $type; goto pbloF; p32zi: $data["\x74\141\142\x6c\x65"] = $this->table; goto PsosE; CereX: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
